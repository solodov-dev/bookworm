(function(t){function e(e){for(var a,s,i=e[0],c=e[1],u=e[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,i=1;i<o.length;i++){var c=o[i];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},n={app:0},r=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/bookworm/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"1d56":function(t,e,o){},"24a2":function(t,e,o){t.exports=o.p+"img/books.32f2a035.svg"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("app-header"),o("app-menu"),o("app-home")],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{attrs:{id:"bar",absolute:"",color:"white"}},[a("v-img",{attrs:{src:o("9b19"),"max-width":"180"}}),a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"blue"},on:{click:function(e){t.showSearch=!t.showSearch}}},[a("v-icon",[t._v("mdi-search-web")])],1),a("v-scale-transition",[t.showSearch?a("v-text-field",{staticClass:"search-bar",attrs:{label:"Search",solo:"","append-icon":"mdi-book-search"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchBooks(e)},"click:append":t.searchBooks},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}):t._e()],1)],1)},i=[],c=(o("ac1f"),o("5319"),o("bc3a")),u=o.n(c),l={data:function(){return{showSearch:!1,searchTerm:""}},methods:{searchBooks:function(){var t=this;this.$store.commit("toggleLoading"),this.showSearch=!1,this.$store.commit("clearList"),this.$store.commit("setCurrentList","search"),u.a.get("https://openlibrary.org/search.json?q=".concat(this.searchTerm.replace(" ","+").toLowerCase())).then((function(e){t.$store.dispatch("commitBookSearch",e.data.docs),t.$store.commit("toggleLoading")}))}}},f=l,d=(o("693d"),o("2877")),h=o("6544"),m=o.n(h),p=o("40dc"),b=o("8336"),v=o("132d"),g=o("adda"),k=o("0789"),y=o("2fa4"),L=o("8654"),_=Object(d["a"])(f,s,i,!1,null,"525b6558",null),w=_.exports;m()(_,{VAppBar:p["a"],VBtn:b["a"],VIcon:v["a"],VImg:g["a"],VScaleTransition:k["c"],VSpacer:y["a"],VTextField:L["a"]});var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t.booksList.length<=0?a("img",{staticClass:"loader",attrs:{alt:"A worm eating books",src:o("24a2")}}):t._e(),t.loading?a("v-progress-circular",{staticClass:"loader",attrs:{indeterminate:"",color:"primary"}}):t._e(),t._l(t.booksList,(function(e){return a("app-book",{key:e.key,attrs:{"book-title":e.title,"book-author":e.author},nativeOn:{click:function(o){return t.toggleMenu(o,e)}}})})),a("v-menu",{attrs:{"position-x":t.x,"position-y":t.y,absolute:""},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[a("v-list",t._l(t.menuItems,(function(e,o){return a("v-list-item",{key:o,on:{click:function(o){return t.processBook(e.value)}}},[a("v-list-item-title",[t._v(t._s(e.text))])],1)})),1)],1)],2)},S=[],C=(o("4de4"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"book-container",style:t.randomMargin},[o("div",{staticClass:"book",style:t.randomColor},[o("div",{staticClass:"book-label"}),o("h1",{staticClass:"book-text book-title",style:t.randomFont},[t._v(t._s(t.bookTitle))]),o("h2",{staticClass:"book-text book-author"},[t._v(t._s(t.bookAuthor))])])])}),M=[],O=(o("0d03"),o("d3b7"),o("25f0"),{data:function(){return{colors:["#A1CDD6","#F6B768","#F0650B","#D9201E"],fonts:[{"font-family":"'Jomolhari', serif"},{"font-family":"'Big Shoulders Text', cursive"},{"font-family":"'Merriweather', serif"},{"font-family":"'Indie Flower', cursive"},{"font-family":"'Lobster', cursive"},{"font-family":"'Pacifico', cursive"},{"font-family":"'Dancing Script', cursive"},{"font-family":"'Abril Fatface', cursive"},{"font-family":"'Amatic SC', cursive"},{"font-family":"'Just Another Hand', cursive"}]}},props:["bookTitle","bookAuthor"],computed:{randomColor:function(){var t=this.colors[Math.floor(Math.random()*this.colors.length)];return{"background-color":t}},randomMargin:function(){var t="".concat(Math.floor(41*Math.random()+30).toString(),"px"),e="".concat(Math.floor(41*Math.random()+30).toString(),"px");return{"margin-left":t,"margin-right":e}},randomFont:function(){return this.fonts[Math.floor(Math.random()*this.fonts.length)]}}}),$=O,B=(o("f60c"),Object(d["a"])($,C,M,!1,null,"57cef774",null)),T=B.exports,j={name:"home",data:function(){return{showMenu:!1,x:0,y:0,selectedBook:{}}},computed:{booksList:function(){return this.$store.getters.booksList},loading:function(){return this.$store.getters.loading},menuItems:function(){var t=this,e=[{text:"Read",value:"read"},{text:"Reading",value:"reading"},{text:"To Read",value:"toRead"},{text:"Delete",value:"search"}];return e.filter((function(e){return e.value!==t.$store.getters.currentList}))}},methods:{toggleMenu:function(t,e){this.showMenu=!this.showMenu,this.x=t.clientX,this.y=t.clientY,this.selectedBook=e},processBook:function(t){"search"!==t?this.$store.dispatch({type:"moveBook",book:this.selectedBook,status:t}):this.$store.commit("deleteFromDatabase",this.selectedBook),this.$store.commit("saveDatabase")}},components:{appBook:T}},D=j,I=(o("e0f5"),o("8860")),V=o("da13"),A=o("5d23"),F=o("e449"),E=o("490a"),P=Object(d["a"])(D,x,S,!1,null,"098c419c",null),J=P.exports;m()(P,{VList:I["a"],VListItem:V["a"],VListItemTitle:A["a"],VMenu:F["a"],VProgressCircular:E["a"]});var R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-tabs",{staticClass:"menu",attrs:{centered:""}},t._l(t.tabs,(function(e,a){return o("v-tab",{key:a,on:{click:function(o){return t.setList(e.value)}}},[t._v(t._s(e.name))])})),1)},H=[],N={data:function(){return{tabs:[{name:"read",value:"read"},{name:"to read",value:"toRead"},{name:"reading",value:"reading"}]}},methods:{setList:function(t){this.$store.dispatch("setList",t)}}},q=N,X=(o("7f6e"),o("71a3")),Y=o("fe57"),z=Object(d["a"])(q,R,H,!1,null,"8669e852",null),G=z.exports;m()(z,{VTab:X["a"],VTabs:Y["a"]});var K={name:"App",components:{appHeader:w,appHome:J,appMenu:G},mounted:function(){localStorage.getItem("database")&&(this.$store.commit("loadDatabase"),this.$store.dispatch("setList","read"))}},Q=K,U=o("7496"),W=Object(d["a"])(Q,n,r,!1,null,null,null),Z=W.exports;m()(W,{VApp:U["a"]});o("c740"),o("4160"),o("a434"),o("159b");var tt=o("2f62");a["a"].use(tt["a"]);var et=new tt["a"].Store({state:{booksList:[],database:{read:[],reading:[],toRead:[]},currentList:"read",loading:!1},getters:{booksList:function(t){return t.booksList},loading:function(t){return t.loading},currentList:function(t){return t.currentList}},mutations:{setCurrentList:function(t,e){t.currentList=e},clearList:function(t){t.booksList=[]},pushList:function(t,e){t.booksList.push(e)},setList:function(t,e){t.booksList=t.database[e]},loadDatabase:function(t){if(localStorage.getItem("database"))try{t.database=JSON.parse(localStorage.getItem("database"))}catch(e){localStorage.removeItem("database")}},saveDatabase:function(t){localStorage.setItem("database",JSON.stringify(t.database))},pushDatabase:function(t,e){t.database[e.status].push(e.book)},deleteFromDatabase:function(t,e){var o=t.database[t.currentList].findIndex((function(t){return t.key===e.key}));-1!==o&&t.database[t.currentList].splice(o,1)},toggleLoading:function(t){t.loading=!t.loading}},actions:{commitBookSearch:function(t,e){var o=t.commit;e.forEach((function(t){t.author_name?t.author_name=t.author_name.toString():t.author_name="Author unknown"}));var a=e.filter((function(t,o){return e.findIndex((function(e){return e.title.toLowerCase()===t.title.toLowerCase()&&e.author_name.toLowerCase().replace(" ","")===t.author_name.toLowerCase().replace(" ","")}))===o}));a.forEach((function(t){o("pushList",{title:t.title,author:t.author_name,key:t.key})})),o("setCurrentList","search")},setList:function(t,e){var o=t.commit,a=t.state;o("clearList"),o("setCurrentList",e),a.database[e].length>0&&o("setList",e)},moveBook:function(t,e){var o=t.commit,a=t.state;if("search"===a.currentList){for(var n in a.database)if(-1!==a.database[n].findIndex((function(t){return t.key===e.book.key})))return;o("pushDatabase",{status:e.status,book:e.book})}else o("deleteFromDatabase",e.book),o("pushDatabase",{status:e.status,book:e.book})}}}),ot=o("f309");a["a"].use(ot["a"]);var at=new ot["a"]({icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,new a["a"]({store:et,vuetify:at,render:function(t){return t(Z)}}).$mount("#app")},"693d":function(t,e,o){"use strict";var a=o("7f54"),n=o.n(a);n.a},"7f54":function(t,e,o){},"7f6e":function(t,e,o){"use strict";var a=o("1d56"),n=o.n(a);n.a},"9b19":function(t,e,o){t.exports=o.p+"img/logo.4feec43d.svg"},c1ae:function(t,e,o){},e0f5:function(t,e,o){"use strict";var a=o("c1ae"),n=o.n(a);n.a},f2ef:function(t,e,o){},f60c:function(t,e,o){"use strict";var a=o("f2ef"),n=o.n(a);n.a}});
//# sourceMappingURL=app.ba04b7c1.js.map